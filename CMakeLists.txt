cmake_minimum_required(VERSION 3.18.4)
set(CMAKE_CXX_STANDARD 17)
project(Iris_Recognition)

find_package(OpenCV REQUIRED)

include_directories(${OpenCV_INCLUDE_DIRS} ${CMAKE_SOURCE_DIR}/include/)
file(GLOB hpp_files ${CMAKE_SOURCE_DIR}/include/*.hpp ${CMAKE_SOURCE_DIR}/include/*.h)
add_executable(iris main.cpp circle.cpp preprocessing.cpp utility.cpp ${CMAKE_SOURCE_DIR}/encoding/iris_encoding.cpp ${CMAKE_SOURCE_DIR}/segmentation/isis_segmentation.cpp ${hpp_files})

#target_link_libraries(main libade libopencv_line_descriptor libcorrespondence libopencv_mcc libippicv libopencv_ml libippiw libopencv_objdetect libittnotify libopencv_optflow liblibopenjp2	libopencv_phase_unwrapping libmultiview libopencv_photo libnumeric libopencv_plot libopencv_alphamat libopencv_quality libopencv_aruco libopencv_rapid libopencv_bgsegm libopencv_reg libopencv_bioinspired libopencv_rgbd libopencv_calib3d libopencv_saliency libopencv_ccalib libopencv_sfm libopencv_core libopencv_shape libopencv_datasets libopencv_stereo libopencv_dnn libopencv_stitching libopencv_dnn_objdetect libopencv_structured_light libopencv_dnn_superres libopencv_superres libopencv_dpm libopencv_surface_matching libopencv_face libopencv_text libopencv_features2d libopencv_tracking libopencv_flann libopencv_video libopencv_freetype libopencv_videoio libopencv_fuzzy libopencv_videostab libopencv_gapi libopencv_viz libopencv_hfs libopencv_xfeatures2d libopencv_highgui libopencv_ximgproc libopencv_img_hash libopencv_xobjdetect libopencv_imgcodecs libopencv_xphoto libopencv_imgproc libquirc)
#target_link_libraries(main opencv_calib3d opencv_core opencv_dnn opencv_features2d opencv_flann opencv_gapi opencv_highgui opencv_imgcodecs opencv_imgproc opencv_ml opencv_objdetect opencv_photo opencv_stitching opencv_video opencv_videoio opencv_alphamat opencv_aruco opencv_bgsegm opencv_bioinspired opencv_ccalib opencv_datasets opencv_dnn_objdetect opencv_dnn_superres opencv_dpm opencv_face opencv_freetype opencv_fuzzy opencv_hfs opencv_img_hash opencv_intensity_transform opencv_line_descriptor opencv_mcc opencv_optflow opencv_phase_unwrapping opencv_plot opencv_quality opencv_rapid opencv_reg opencv_rgbd opencv_saliency opencv_sfm opencv_shape opencv_stereo opencv_structured_light opencv_superres opencv_surface_matching opencv_text opencv_tracking opencv_videostab opencv_viz opencv_xfeatures2d opencv_ximgproc opencv_xobjdetect opencv_xphoto)

#set(OpenCV_LIBS opencv_calib3d opencv_core opencv_dnn opencv_features2d opencv_flann opencv_gapi opencv_highgui opencv_imgcodecs opencv_imgproc opencv_ml opencv_objdetect opencv_photo opencv_stitching opencv_video opencv_videoio opencv_alphamat opencv_aruco opencv_bgsegm opencv_bioinspired opencv_ccalib opencv_datasets opencv_dnn_objdetect opencv_dnn_superres opencv_dpm opencv_face opencv_freetype opencv_fuzzy opencv_hfs opencv_img_hash opencv_intensity_transform opencv_line_descriptor opencv_mcc opencv_optflow opencv_phase_unwrapping opencv_plot opencv_quality opencv_rapid opencv_reg opencv_rgbd opencv_saliency opencv_sfm opencv_shape opencv_stereo opencv_structured_light opencv_superres opencv_surface_matching opencv_text opencv_tracking opencv_videostab opencv_viz opencv_xfeatures2d opencv_ximgproc opencv_xobjdetect opencv_xphoto)
#set(OpenCV_LIBS libade.a libopencv_line_descriptor.a libcorrespondence.a libopencv_mcc.a libippicv.a libopencv_ml.a libippiw.a libopencv_objdetect.a libittnotify.a libopencv_optflow.a liblibopenjp2.a	libopencv_phase_unwrapping.a libmultiview.a libopencv_photo.a libnumeric.a libopencv_plot.a libopencv_alphamat.a libopencv_quality.a libopencv_aruco.a libopencv_rapid.a libopencv_bgsegm.a libopencv_reg.a libopencv_bioinspired.a libopencv_rgbd.a libopencv_calib3d.a libopencv_saliency.a libopencv_ccalib.a libopencv_sfm.a libopencv_core.a libopencv_shape.a libopencv_datasets.a libopencv_stereo.a libopencv_dnn.a libopencv_stitching.a libopencv_dnn_objdetect.a libopencv_structured_light.a libopencv_dnn_superres.a libopencv_superres.a libopencv_dpm.a libopencv_surface_matching.a libopencv_face.a libopencv_text.a libopencv_features2d.a libopencv_tracking.a libopencv_flann.a libopencv_video.a libopencv_freetype.a libopencv_videoio.a libopencv_fuzzy.a libopencv_videostab.a libopencv_gapi.a libopencv_viz.a libopencv_hfs.a libopencv_xfeatures2d.a libopencv_highgui.a libopencv_ximgproc.a libopencv_img_hash.a libopencv_xobjdetect.a libopencv_imgcodecs.a libopencv_xphoto.a libopencv_imgproc.a libquirc.a)

#message(STATUS "libs: ${OpenCV_LIBS}")
target_link_libraries(iris ${OpenCV_LIBS})

add_custom_command(TARGET iris PRE_BUILD
                   COMMAND ${CMAKE_COMMAND} -E copy_directory
                       ${CMAKE_SOURCE_DIR}/resources/ $<TARGET_FILE_DIR:iris>)
